(function(a,b){function c(){var a="basket-",c=[],d=0,e=0,f=[],g=function(a,b){var c=new XMLHttpRequest;c.open("GET",a,true);c.onreadystatechange=function(a){if(c.readyState===4){b(c.responseText)}};c.send()},h=function(a,b,c){g(a,function(a){localStorage.setItem(b,a);if(i(c)){c()}})},i=function(a){return Object.prototype.toString.call(a)=="[object Function]"},j=function(a){var c=b.createElement("script"),d=b.head||b.getElementsByTagName("head")[0];c.defer=true;c.appendChild(b.createTextNode(a));d.appendChild(c)},k=function(a){var b,e,g,h;if(d>=a){for(e=0;e<c.length;e++){b=c[e];if(!b){continue}c[e]=null;j(b);d++;for(g=e;g<d;g++){if(h=f[g]){f[g]=null;h()}}}}};return{require:function(b){var d=a+b,f=c.length,h=e,i=localStorage.getItem(d);c[f]=null;if(i){c[f]=i;k(h)}else{g(b,function(a){localStorage.setItem(d,a);c[f]=a;k(h)})}return this},add:function(b,c,d){c=c||{};var e=a+(c.key||b);if(c.overwrite===undefined){c.overwrite=true}if(!!localStorage.getItem(e)){if(c.overwrite){h(b,e,d)}}else{h(b,e,d)}return this},remove:function(b){var c=a+b;localStorage.removeItem(c);return this},wait:function(a){e=c.length;if(a){d>=e-1?a():f[e-1]=a}return this}}}a["basket"]=c()})(this,document)